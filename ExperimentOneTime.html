<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome to the Experiment Page</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="index.js"></script>
</head>
<body class="container" id="ExperimentOneTime">
    <h1>Welcome to the Experiment Page</h1>

    <p>In this experiment, you are participating in a group decision-making scenario</p>
    <p>using 'clickcoins' as mock-up currency.</p>
    </p> 1 clickcoin = $0.003.</p>

    <p><h2>Payment Details:</h2></p>
    <p><b>Base Payment:</b> You start with 420 clickcoins.</p>
    <p><b>Impact of Decisions:</b> Your choices during the experiment can either increase or decrease your clickcoins.</p>
    <br>
    <p><h2>Objective:</h2></p>
    <p>Your task is to determine the dominant color in a pitcher</p>
    <p>which is defined by the color of the majority of the balls it contains.</p>
    <p><h3>Key Information:</h3></p>

    <p><b>Balls Colors:</b> Blue and Red.</p>
    <p id="ballRatio"><b>Pitcher Contents:</b> The pitcher has <b>100</b> balls, with <b>{BallRatio}</b> of one color and <b>{OtherColorBallRatio}</b> of another color. </p>
    <p id="groupSize"><b>Group Size:</b> You are one of <b>{groupsize}</b> participants.</p>
    <p id="relativeMajority"><b>Majority Vote Requirement:</b>  A majority vote, needing at least <b>{Relative Majority}</b> members' agreement, is required for decision-making.</p>
    <p id="signalColor"><b>Your Observation:</b> You have drawn a ball from the pitcher, and it is <b><span id="chosenColor"></span></b></p>
    <br>
    <p><h2>Reward Structure:</h2></p>

    <p><b>Correct Identification:</b> If the group correctly identifies the dominant color, each member <b>gains an additional 84 clickcoins.</b></p>
    <p><b>Incorrect Identification:</b> If the group is incorrect, each member <b>loses 84 clickcoins.</b></p>
    <br>
    <p><h2>Your Decision:</h2></p>
    <p>Considering the information and the color of the ball you drew, </p>
    <p><b>what is your choice regarding the dominant color in the pitcher?</b></p>

    <form id="experimentOneTimeForm" action="/submit-experiment-answer-OneTime" method="post" onsubmit="return submitForm()">
        <!-- Radio buttons for color selection -->
        <label for="blueRadio"></label>
        <input type="radio" id="blueRadio" name="hiddenUserColor" value="Blue" onchange="updateSubmitButtonState()"> <b>Blue</b>

        <label for="redRadio"></label>
        <input type="radio" id="redRadio" name="hiddenUserColor" value="Red" onchange="updateSubmitButtonState()"> <b>Red</b>

        <!-- Hidden input for chosenColor -->
        <input type="hidden" id="hiddenChosenColor" name="hiddenChosenColor">

        <button type="submit" id="submitButton" disabled>Submit</button>
    </form>

    <script>
        // Randomly choose between "Blue" and "Red"
        const colors = ["Blue", "Red"];
        const chosenColor = colors[Math.floor(Math.random() * colors.length)];

        // Update the content of the HTML element with the chosen color
        document.getElementById('chosenColor').innerText = chosenColor;

        // Set the value of the hidden input for chosenColor
        document.getElementById('hiddenChosenColor').value = chosenColor;

        // Function to update the state of the submit button
        function updateSubmitButtonState() {
            const userColor = document.querySelector('input[name="hiddenUserColor"]:checked');
            const submitButton = document.getElementById('submitButton');
            submitButton.disabled = !userColor;
        }
    </script>
</body>
</html>
